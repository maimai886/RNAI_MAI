-- 跟隨距離（格；以矩形距離計）：超過此距離會主動靠近主人
FollowDis=3
-- 移動指令最小間隔（毫秒）：限制下達移動的頻率，避免過度抖動
MoveDelay=500
-- 搜尋/交戰半徑（格）：目標評分時用於判斷範圍內外（SearchSetting[7]/[8]）
RadiusAggr=12

-- {主人被打,生命體被打,其他玩家被打,主人攻擊,生命體攻擊,其他玩家攻擊,範圍外,範圍內}
SearchMode={{128,0,0,256,0,0,-128,-128},{256,128,0,256,30,64,-128,1}}

-- 攻擊模式 1:被動 2:主動 對應SearchMode的索引
SearchSetting=SearchMode[2]

--==================================================--
-- 弱目標 對此清單中的怪物使用普攻
-- example:WeakTargets={1234,1235,1236}
WeakTargets={}

-- 1078紅草,1079藍草,1080綠草,1081黃草,1082白草,1083光芒草,1084黑菇,1085紅菇,1555苗娃,2569獸副黑影
-- 忽略目標（不列入評分、不主動攻擊）。
-- example:IgnoreTargets={1078,1079,1080}
IgnoreTargets={1078,1079,1080,1081,1082,1083,1084,1085,1555,2569}

-- 指定攻擊目標（優先模式）：當此陣列有值時，只攻擊清單中的怪物(啟用即WeakTargets IgnoreTargets無效)
-- 若為空陣列 {} 則使用一般模式（攻擊所有非忽略目標）
-- example:TargetMonsters={1002,1007,1011,1118} -- 只攻擊波利、瘋兔、綠棉蟲、噬人花
TargetMonsters={}

-- 優先攻擊目標：當地圖中出現此列表中的怪物時，生命體會優先攻擊這些目標
-- 此參數會給予列表中的怪物更高的攻擊優先級，但仍會攻擊其他非忽略目標
-- example:MainTargets={1068,3903,3974} -- 優先攻擊獸副花、蟲副蛋、蟲副王蛋
MainTargets={1068,3903,3974}


-- -----------------------PvP模式----------------------- --
-- PvP 模式：0=關閉（只評分怪物）、1=無差別攻擊、2=狙擊模式
-- 注意：朋友（friends）、自己（myid）與主人（oid）不會被納入攻擊目標。
-- 模式說明：
--   1=無差別：攻擊所有玩家（可用 PvPTargetJobs 設定優先職業）
--   2=狙擊：只攻擊你用技能主動標記的目標（自動記錄到 custom/sniper_targets.lua）
--          操作：對玩家使用指定技能 → 標記為狙擊目標
--          清除：用狙擊技能點自己 → 清空所有狙擊目標
--          保護：Alt+右鍵預約攻擊隊友 → 加入好友列表（永遠不會標記）
--          適用於避免誤傷友軍，只打你確認要打的玩家
PvPMode=0
-- PvP 優先攻擊職業：指定優先攻擊的職業編號列表（在 PvPMode=1 和 2 時都有效）
-- 若列表為空 {} 則不區分職業優先級，所有目標按評分系統攻擊
-- 模式1：在所有玩家中，優先攻擊指定職業
-- 模式2：在所有狙擊目標中，優先攻擊指定職業
-- 職業編號：0=初心者, 1=劍士, 2=法師, 3=弓手, 4=服事, 5=商人, 6=盜賊
--          8=祭司, 9=巫師, 10=鐵匠, 11=獵人, 12=刺客, 13=騎士
--          16=智者, 17=流氓, 18=鍊金術師, 19=詩人, 20=舞娘, 21=十字軍
-- example:PvPTargetJobs={2,9,16,18} -- 優先攻擊法師系職業，沒有時也會打其他玩家
PvPTargetJobs={}
-- 狙擊標記技能：指定哪些技能可以標記狙擊目標（僅在 PvPMode=2 時有效）
-- 若列表為空 {} 則所有攻擊性技能都可以標記（排除 castType=0 的增益技能）
-- 若有設定技能ID，則只有使用這些技能時才會標記目標
-- example:SniperMarkSkills={8013,8020} -- 只有善變和月光能標記狙擊目標
-- example:SniperMarkSkills={0} -- 只有普攻能標記（0代表普通攻擊）
SniperMarkSkills={8013}

-- -----------------------守衛模式----------------------- --
-- 守衛模式：0關閉（跟隨模式）、1開啟（守衛模式）、2轉圈模式
-- 守衛模式下生命體會保持在玩家前方3格保護玩家 並且將距離最近的怪物試為優先攻擊目標
-- 轉圈模式下生命體將不停在玩家周圍轉圈
GuardMode=0
-- 守衛/轉圈距離（格）：生命體與玩家的距離
GuardDistance=3


-- -----------------------跳舞攻擊模式----------------------- --
-- 跳舞攻擊模式
UseDanceAttack=0 -- 是否啟用跳舞攻擊 0關閉、1一般舞步、2狂暴舞步
DanceMinSP={70,100} -- 施放跳舞攻擊的SP區間


-- -----------------------調試日誌開關----------------------- --
-- 調試日誌開關：0關閉、1開啟
EnableDebugLog=1

-- 日誌分類過濾（可選，nil = 輸出所有類別）
-- 只想看特定類別的日誌時設置：
LogCategories = {
  combat = false,   -- 戰鬥日誌 → combat.log
  skill = false,   -- 技能日誌 → skill.log
  move = true,    -- 移動日誌 → move.log
  friend = false,  -- 好友日誌 → friend.log
  pvp = false,     -- PvP日誌 → pvp.log
  map = false,     -- 地圖日誌 → map.log
  guard = false,   -- 守衛日誌 → guard.log
  dance = false,   -- 跳舞日誌 → dance.log
  init = true,     -- 初始化日誌 → init.log
}

-- -----------------------避障設定----------------------- --
-- 自動避障功能：打怪時卡住會自動繞路
-- 避障系統會自動檢測生命體是否卡住，並嘗試繞路接近目標
-- 安全機制：
--   1. 距離主人超過 RadiusAggr 時自動放棄繞路
--   2. 繞路超過 maxAvoidTime 時自動放棄
-- 以下參數可以調整（可選，不設置則使用默認值）
AvoidState = AvoidState or {}        -- 初始化避障狀態表格，避免報錯
AvoidState.checkInterval = 1000      -- 檢查卡住間隔（毫秒）
AvoidState.stuckThreshold = 3        -- 判定卡住的移動距離（格子）
AvoidState.stuckCountLimit = 2       -- 判定卡住需要的次數，超過則換目標
AvoidState.avoidDuration = 1500      -- 切換方向間隔（毫秒）
AvoidState.avoidDistance = 3         -- 繞路距離（格子）
AvoidState.maxAvoidTime = 10000      -- 最大繞路時間（毫秒），超過則放棄

--==================================================--
-- -----------------------技能設定----------------------- --
Skill={}

Skill[#Skill+1]={}
Skill[#Skill].id=8013 --善變
Skill[#Skill].lv=5
Skill[#Skill].target=0
Skill[#Skill].when=1
Skill[#Skill].times=1
Skill[#Skill].delay=3000
Skill[#Skill].sp={70,100} -- SP區間：搭配混亂祈福保持70%魔量，應對緊急狀況
Skill[#Skill].hp={0,100}
Skill[#Skill].ownerSp={0,100}
Skill[#Skill].ownerHp={0,100}
Skill[#Skill].nMyEnemy=0
Skill[#Skill].nOwnerEnemy=0
Skill[#Skill].nRangeEnemy=0
Skill[#Skill].chase=1
Skill[#Skill].stemp=0
Skill[#Skill].count=0

Skill[#Skill+1]={}
Skill[#Skill].id=8014 -- 混亂祈福
Skill[#Skill].lv=4
Skill[#Skill].target=0
Skill[#Skill].when=1
Skill[#Skill].times=1
Skill[#Skill].delay=1000
Skill[#Skill].sp={0,100}
Skill[#Skill].hp={0,50} -- 生命體HP區間設定：0-50%時使用此技能
Skill[#Skill].nMyEnemy=0
Skill[#Skill].nOwnerEnemy=0
Skill[#Skill].nRangeEnemy=0
Skill[#Skill].chase=1
Skill[#Skill].stemp=0
Skill[#Skill].count=0

Skill[#Skill+1]={}
Skill[#Skill].id=8014 -- 混亂祈福
Skill[#Skill].lv=3
Skill[#Skill].target=0
Skill[#Skill].when=1
Skill[#Skill].times=1
Skill[#Skill].delay=1000
Skill[#Skill].ownerSp={0,100}
Skill[#Skill].ownerHp={0,50} -- 主人HP區間設定：0-50%時使用此技能
Skill[#Skill].nMyEnemy=0
Skill[#Skill].nOwnerEnemy=0
Skill[#Skill].nRangeEnemy=0
Skill[#Skill].chase=1
Skill[#Skill].stemp=0
Skill[#Skill].count=0

Skill[#Skill+1]={}
Skill[#Skill].id=0 -- 普攻技能ID（0代表普通攻擊）
Skill[#Skill].lv=1 -- 技能等級（普攻固定為1級）
Skill[#Skill].target=0 -- 目標類型：0=魔物，1=主人，2=生命體/傭兵
Skill[#Skill].when=1 -- 使用時機：1=攻擊時，2=被攻擊時，3=常駐
Skill[#Skill].times=1 -- 連續使用次數：1=使用1次後冷卻
Skill[#Skill].delay=0 -- 冷卻延遲時間（毫秒）：0=無延遲
Skill[#Skill].sp={0,100} -- SP區間：0%-100%（任何SP狀態都可使用）
Skill[#Skill].hp={0,100} -- HP區間：0%-100%（任何HP狀態都可使用）
Skill[#Skill].ownerSp={0,100} -- 主人SP區間：0%-100%
Skill[#Skill].ownerHp={0,100} -- 主人HP區間：0%-100%
Skill[#Skill].nMyEnemy=0 -- 生命體敵人數量條件：0=無限制
Skill[#Skill].nOwnerEnemy=0 -- 主人敵人數量條件：0=無限制
Skill[#Skill].nRangeEnemy=0 -- 範圍內敵人數量條件：0=無限制
Skill[#Skill].chase=1 -- 是否追擊：1=會追擊，0=不追擊
Skill[#Skill].stemp=0 -- 上次使用時間戳記（系統自動管理）
Skill[#Skill].count=0 -- 使用計數器（系統自動管理）